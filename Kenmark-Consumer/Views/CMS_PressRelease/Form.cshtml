@model Kenmark_Consumer.Models.CMS_PressRelease

@{
    ViewBag.Title = "Form";
}

<script type="text/javascript">

    $(function () {
        $('.date-picker').datepicker();
        $('.pageContent').hide();

        $('.pageTitle').click(function () {

            var page = this.id;

            $('.pageContent').hide();

            $('#' + page + "Span").show();

            $('.' + page + 'Upload').show();
        });
    });

    $(function () {
        $('#AddBlogFrom').die();
        $("#AddBlogFrom").live('submit', function (e) {
            //some code
            $(this).submit();
            e.preventDefault();
        });
    });
</script>

<div style="margin-top:50px;">

@if (ViewBag.Type == "DELETE")
{
    using (Html.BeginForm("DeleteShow", "CMS_PressRelease", FormMethod.Post, new { id = "DeletelogFrom" }))
    { 
        <div class="col-xs-12">
            <span style="font-size:22px;">Which press release would you like to delete?</span>
        </div>
    
        <div class="col-xs-12 col-sm-4">
            <select id="delete_id" name="delete_id" class="form-control">
    
            @for (int i = 0; i < Model.Releases.Count; i++)
            { 
                <option value ="@Model.Releases[i].press_release_id">@Model.Releases[i].press_release_id - @Model.Releases[i].release_title</option> 
            }
        
            </select>
       </div>

       <div class="col-xs-12" style="margin-top: 20px;margin-bottom:20px;">
           <button class="btn btn-default submitButton" id="submit-delete" type="submit">Submit</button>
       </div>
    }
}


@if (ViewBag.Type == "Edit")
{
    using (Ajax.BeginForm("EditShow", "CMS_PressRelease", new AjaxOptions { InsertionMode = InsertionMode.Replace, UpdateTargetId = "edit-wrapper" }))
    { 
        <div class="col-xs-12">
            <span style="font-size:22px;">Which press release would you like to edit?</span>
        </div>
    
        <div class="col-xs-12 col-sm-4">
            <select id="edit_id" name="edit_id" class="form-control">

            @for (int i = 0; i < Model.Releases.Count; i++)
            { 
                <option value ="@Model.Releases[i].press_release_id">@Model.Releases[i].press_release_id - @Model.Releases[i].release_title</option> 
            }
        
            </select>
       </div>

       <div class="col-xs-12" style="margin-top: 20px;margin-bottom:20px;">
           <button class="btn btn-default submitButton" id="submit-edit" type="submit">Submit</button>
       </div>
    }
    
    <div id="edit-wrapper">

    </div>
}

@if (ViewBag.Type == "EDIT2")
{
    using (Html.BeginForm("SaveEditShow", "CMS_PressRelease", FormMethod.Post, new { id = "EditBlogFrom" }))
    {
        @Html.HiddenFor(m => m.Release.press_release_id)
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 20px;">       
           <span style="font-size:14px; font-weight:bold;">Title:</span><br />
            @Html.TextBoxFor(m => m.Release.release_title, new { @class = "form-control" })
        </div>
    
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 20px;">       
            <span style="font-size:14px;font-weight:bold;">Release Date:</span><br />
           @Html.TextBoxFor(m => m.Release.release_date, new { @class = "date-picker form-control", @type = "text", @style = "max-width:250px;" })
        </div>
    
        <div class="col-xs-12 col-sm-12" style="margin-bottom: 20px;">       
            <span style="font-size:14px;font-weight:bold;">Text:</span><br />
             @Html.TextAreaFor(m => m.Release.release_text, new { @id = "editor1", @name = "Content" })
        </div>    
    
      <script>
          // Replace the <textarea id="editor1"> with a CKEditor
          // instance, using default configuration.
          CKEDITOR.replace('editor1', {
          });
        </script>

            <div class="col-xs-12" style="margin-top: 20px;">
                <button class="btn btn-default submitButton" id="submit" type="submit">Submit</button>
            </div>
    }
}

@if (ViewBag.Type == "ADD")
{
    using (Html.BeginForm("AddShow", "CMS_PressRelease", FormMethod.Post, new { enctype = "multipart/form-data", id = "AddBlogFrom" }))
    {
     
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 20px;">       
           <span style="font-size:14px; font-weight:bold;">Title:</span><br />
            @Html.TextBoxFor(m => m.Release.release_title, new { @class = "form-control" })
        </div>
    
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 20px;">       
            <span style="font-size:14px;font-weight:bold;">Release Date:</span><br />
           @Html.TextBoxFor(m => m.Release.release_date, new { @class = "date-picker form-control", @type = "text", @style = "max-width:250px;" })
        </div>
    
        <div class="col-xs-12 col-sm-12" style="margin-bottom: 20px;">       
            <span style="font-size:14px;font-weight:bold;">Text:</span><br />
             @Html.TextAreaFor(m => m.Release.release_text, new { @id = "editor1", @name = "Content" })
        </div>    

      <script>
          // Replace the <textarea id="editor1"> with a CKEditor
          // instance, using default configuration.
          CKEDITOR.replace('editor1', {
          });
        </script>
            <div class="col-xs-12" style="margin-top: 20px;">
                <button class="btn btn-default submitButton" id="submit-add" type="submit">Submit</button>
            </div>
    }
}
</div>

@if (ViewBag.Type != "EDIT2")
{
<div class="col-xs-12" style="margin-bottom:20px; margin-top:30px;">
    <span style="font-size:14px;">
      <a href="~/CMS_PressRelease">< BACK</a>  
    </span>
</div>
}