@model Kenmark_Consumer.Models.TestCMS



@{
    ViewBag.Title = "Test CMS";
}


<script type="text/javascript">

    $(function () {
        $('.date-picker').datepicker();

        
    });

    function OnBegin() {
        var data = CKEDITOR.instances.editor1.editable().getText();
        $('#editor1').val(data);
        alert($('#editor1').val());

        
    }

</script>


<div style="margin-top: 50px;"></div>

<div class="col-xs-12">
    <span style="font-size: 25px; display: inline-block; margin-bottom: 30px;" class="text-center">Create a new blog!</span>
</div>



@using (Ajax.BeginForm("UpdateContent", "TestCMS", new AjaxOptions { HttpMethod = "Post", OnBegin = "OnBegin" }))
{
    <div class="col-xs-12" style="margin-bottom: 50px;">
        <div class="col-xs-12 col-sm-4">
            @Html.LabelFor(m => m.Title, new { @style = "font-size:14px;" })<br />
            @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
        </div>

    </div>

    <div class="col-xs-12">
        <div class="col-xs-12 col-sm-4" style="margin-bottom: 100px;">
            <p style="font-size: 14px; font-weight: bold;">
                @Html.LabelFor(m => m.Date)
                @Html.TextBoxFor(m => m.Date, new { @class = "date-picker form-control", @type = "text" })
            </p>
        </div>
    </div>

    <div class="col-xs-12" style="margin-bottom: 50px;">
        <span style="display: inline-block; margin-bottom: 5px; font-weight: bold; font-size: 14px;">Enter your blog content below</span>

        @Html.TextAreaFor(m => m.Content, new { @id = "editor1", @name = "Content" })
      
        <script>
            // Replace the <textarea id="editor1"> with a CKEditor
            // instance, using default configuration.
            CKEDITOR.replace('editor1', {
                
               
            });


        </script>

        <div class="col-xs-12 no-gutter" style="margin-top: 20px;">
            <button class="btn btn-default" id="submit" type="submit">Submit</button>
        </div>
    </div>
}

@*@using (Ajax.BeginForm("Upload", "TestCMS", new AjaxOptions{HttpMethod = "Post"}, new { @role="form" @enctype="multipart/form-data"}))
{
    @Html.LabelFor(m => m.Photo)<br />
    @Html.TextBoxFor(m => m.Photo, new { @type="file", @id="photo"})

    <div class="col-xs-12 no-gutter" style="margin-top: 20px;">
            <button id="upload" type="submit">Upload</button>
    </div>
} *@

<form action="/TestCMS/Upload" method="post" enctype="multipart/form-data">

    <label for="photo">Upload image: </label>
    <input type="file" name="photo" id="photo" class="btn btn-default" />

    <input type="submit" value="Upload" class="btn btn-default" />
</form>